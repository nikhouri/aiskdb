{"cells":[{"kind":1,"value":"# kdb+tick simple architecture example ","languageId":"markdown","outputs":[]},{"kind":1,"value":"## Setup","languageId":"markdown","outputs":[]},{"kind":2,"value":"\\c 20 200\ngw:hopen 5114 / Connect to gateway","languageId":"q","outputs":[{"items":[{"data":"<table>\n<thead>\n<tr>\n<th>Index</th>\n<th>values [int]</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>10i</td>\n</tr>\n</tbody>\n</table>","mime":"text/html"}]}]},{"kind":1,"value":"## Queries","languageId":"markdown","outputs":[]},{"kind":1,"value":"Let's see who's out motoring around for fish üê†","languageId":"markdown","outputs":[]},{"kind":2,"value":"12#`updated xdesc select from gw(`latest;::) where speed>0,destination like \"FIS*\"","languageId":"q","outputs":[{"items":[{"data":"<table>\n<thead>\n<tr>\n<th>Index</th>\n<th>mmsi [longs]</th>\n<th>shipname [general]</th>\n<th>callsign [symbols]</th>\n<th>shiptype [symbols]</th>\n<th>shipsubtype [symbols]</th>\n<th>lat [floats]</th>\n<th>lon [floats]</th>\n<th>heading [floats]</th>\n<th>speed [floats]</th>\n<th>status [symbols]</th>\n<th>maneuver [symbols]</th>\n<th>destination [general]</th>\n<th>updated [timestamps]</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>257038590</td>\n<td>\"WITH FROHAVET\"</td>\n<td>`LFID</td>\n<td>`Cargo</td>\n<td>`</td>\n<td>64.70298</td>\n<td>10.87172</td>\n<td>54f</td>\n<td>14.6</td>\n<td>`UnderWayUsingEngine</td>\n<td>`NotAvailable</td>\n<td>\"FISHFARMS\"</td>\n<td>2025.07.06D05:06:53.000000000</td>\n</tr>\n<tr>\n<td>2</td>\n<td>257016650</td>\n<td>\"SARA KARIN\"</td>\n<td>`LEBW</td>\n<td>`Fishing</td>\n<td>`</td>\n<td>58.19389</td>\n<td>5.769603</td>\n<td>120f</td>\n<td>7.7</td>\n<td>`UnderWayUsingEngine</td>\n<td>`NotAvailable</td>\n<td>\"FISHING\"</td>\n<td>2025.07.06D05:06:50.000000000</td>\n</tr>\n<tr>\n<td>3</td>\n<td>259392000</td>\n<td>\"FISKOY\"</td>\n<td>`LIOL</td>\n<td>`Fishing</td>\n<td>`</td>\n<td>68.21627</td>\n<td>13.27376</td>\n<td>220f</td>\n<td>5.1</td>\n<td>`UnderWayUsingEngine</td>\n<td>`NotAvailable</td>\n<td>\"FISKEFELT\"</td>\n<td>2025.07.06D05:06:47.000000000</td>\n</tr>\n<tr>\n<td>4</td>\n<td>258161000</td>\n<td>\"SEA SALMON\"</td>\n<td>`LHDO</td>\n<td>`Cargo</td>\n<td>`NoAdditionalInformation</td>\n<td>65.29736</td>\n<td>11.97216</td>\n<td>209f</td>\n<td>10.7</td>\n<td>`UnderWayUsingEngine</td>\n<td>`NotAvailable</td>\n<td>\"FISHFARMS\"</td>\n<td>2025.07.06D05:06:46.000000000</td>\n</tr>\n<tr>\n<td>5</td>\n<td>257017390</td>\n<td>\"FROY BAS\"</td>\n<td>`LGUE</td>\n<td>`DredgingOrUnderwaterOps</td>\n<td>`</td>\n<td>63.82489</td>\n<td>8.447607</td>\n<td>335f</td>\n<td>0.1</td>\n<td>`UnderWayUsingEngine</td>\n<td>`NotAvailable</td>\n<td>\"FISHFARMS\"</td>\n<td>2025.07.06D05:06:46.000000000</td>\n</tr>\n<tr>\n<td>6</td>\n<td>257102260</td>\n<td>\"HYDRA\"</td>\n<td>`LF6764</td>\n<td>`DivingOps</td>\n<td>`</td>\n<td>59.09079</td>\n<td>5.908202</td>\n<td>511f</td>\n<td>0.1</td>\n<td>`UnderWayUsingEngine</td>\n<td>`NotAvailable</td>\n<td>\"FISHFARMS\"</td>\n<td>2025.07.06D05:06:42.000000000</td>\n</tr>\n<tr>\n<td>7</td>\n<td>258732000</td>\n<td>\"HAVSTRAND\"</td>\n<td>`LDBR</td>\n<td>`Fishing</td>\n<td>`</td>\n<td>68.80627</td>\n<td>12.93125</td>\n<td>17f</td>\n<td>7.3</td>\n<td>`EngagedInFishing</td>\n<td>`NotAvailable</td>\n<td>\"FISHING GROUND\"</td>\n<td>2025.07.06D05:06:42.000000000</td>\n</tr>\n<tr>\n<td>8</td>\n<td>259281000</td>\n<td>\"NYBO\"</td>\n<td>`LMFZ</td>\n<td>`Fishing</td>\n<td>`</td>\n<td>58.37857</td>\n<td>5.662428</td>\n<td>134f</td>\n<td>12.6</td>\n<td>`UnderWayUsingEngine</td>\n<td>`NotAvailable</td>\n<td>\"FISHING\"</td>\n<td>2025.07.06D05:06:42.000000000</td>\n</tr>\n<tr>\n<td>9</td>\n<td>257305000</td>\n<td>\"SULEBAS\"</td>\n<td>`LECW</td>\n<td>`Fishing</td>\n<td>`</td>\n<td>70.99761</td>\n<td>27.1641</td>\n<td>244f</td>\n<td>0.2</td>\n<td>`UnderWayUsingEngine</td>\n<td>`NotAvailable</td>\n<td>\"FISHING\"</td>\n<td>2025.07.06D05:06:38.000000000</td>\n</tr>\n<tr>\n<td>10</td>\n<td>258037000</td>\n<td>\"WIKEROEY SENIOR\"</td>\n<td>`LLYH</td>\n<td>`Fishing</td>\n<td>`</td>\n<td>68.07176</td>\n<td>13.53742</td>\n<td>511f</td>\n<td>1.1</td>\n<td>`UnderWayUsingEngine</td>\n<td>`NotAvailable</td>\n<td>\"FISKE\"</td>\n<td>2025.07.06D05:06:37.000000000</td>\n</tr>\n<tr>\n<td>11</td>\n<td>257797000</td>\n<td>\"DOENNLAND\"</td>\n<td>`LCUL</td>\n<td>`OtherType</td>\n<td>`</td>\n<td>68.82002</td>\n<td>16.6068</td>\n<td>511f</td>\n<td>10.5</td>\n<td>`UnderWayUsingEngine</td>\n<td>`SpecialManeuver</td>\n<td>\"FISHFARMS\"</td>\n<td>2025.07.06D05:06:37.000000000</td>\n</tr>\n<tr>\n<td>12</td>\n<td>257608500</td>\n<td>\"BRIS\"</td>\n<td>`LAZW</td>\n<td>`Fishing</td>\n<td>`</td>\n<td>58.43042</td>\n<td>10.73996</td>\n<td>281f</td>\n<td>8.1</td>\n<td>`EngagedInFishing</td>\n<td>`NotAvailable</td>\n<td>\"FISHING\"</td>\n<td>2025.07.06D05:06:35.000000000</td>\n</tr>\n</tbody>\n</table>","mime":"text/html"}]}]},{"kind":1,"value":"Let's see what ol' Odin's been up to today üê¶‚Äç‚¨õüê¶‚Äç‚¨õ","languageId":"markdown","outputs":[]},{"kind":2,"value":"gw(`staticHist;257761700;2025.07.06D0;2025.07.07D0)","languageId":"q","outputs":[{"items":[{"data":"<table>\n<thead>\n<tr>\n<th>Index</th>\n<th>time [timespans]</th>\n<th>mmsi [longs]</th>\n<th>shipname [general]</th>\n<th>callsign [symbols]</th>\n<th>shiptype [symbols]</th>\n<th>shipsubtype [symbols]</th>\n<th>destination [general]</th>\n<th>msgtype [longs]</th>\n<th>source [longs]</th>\n<th>sourcets [timestamps]</th>\n<th>receivets [timestamps]</th>\n<th>raw [general]</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>0D04:41:50.615115000</td>\n<td>257761700</td>\n<td>\"ODIN\"</td>\n<td>`LG2716</td>\n<td>`Cargo</td>\n<td>`</td>\n<td>\"CH16 FOR INFO\"</td>\n<td>5</td>\n<td>2573455</td>\n<td>2025.07.06D04:41:49.000000000</td>\n<td>2025.07.06D04:41:50.615115000</td>\n<td>\"!BSVDM,2,1,6,B,53mlQa800000hO;O7H0t@Tp0000000000000001608;23400000j<M`1Sl`2,0*1C\\n!BSVDM,2,2,6,B,CQSh0000000,2*11\"</td>\n</tr>\n<tr>\n<td>2</td>\n<td>0D04:47:50.395764000</td>\n<td>257761700</td>\n<td>\"ODIN\"</td>\n<td>`LG2716</td>\n<td>`Cargo</td>\n<td>`</td>\n<td>\"CH16 FOR INFO\"</td>\n<td>5</td>\n<td>2573455</td>\n<td>2025.07.06D04:47:49.000000000</td>\n<td>2025.07.06D04:47:50.395764000</td>\n<td>\"!BSVDM,2,1,6,A,53mlQa800000hO;O7H0t@Tp0000000000000001608;23400000j<M`1Sl`2,0*1F\\n!BSVDM,2,2,6,A,CQSh0000000,2*12\"</td>\n</tr>\n<tr>\n<td>3</td>\n<td>0D04:53:50.425611000</td>\n<td>257761700</td>\n<td>\"ODIN\"</td>\n<td>`LG2716</td>\n<td>`Cargo</td>\n<td>`</td>\n<td>\"CH16 FOR INFO\"</td>\n<td>5</td>\n<td>2573455</td>\n<td>2025.07.06D04:53:49.000000000</td>\n<td>2025.07.06D04:53:50.425611000</td>\n<td>\"!BSVDM,2,1,2,B,53mlQa800000hO;O7H0t@Tp0000000000000001608;23400000j<M`1Sl`2,0*18\\n!BSVDM,2,2,2,B,CQSh0000000,2*15\"</td>\n</tr>\n<tr>\n<td>4</td>\n<td>0D04:59:50.158492000</td>\n<td>257761700</td>\n<td>\"ODIN\"</td>\n<td>`LG2716</td>\n<td>`Cargo</td>\n<td>`</td>\n<td>\"CH16 FOR INFO\"</td>\n<td>5</td>\n<td>2573455</td>\n<td>2025.07.06D04:59:49.000000000</td>\n<td>2025.07.06D04:59:50.158492000</td>\n<td>\"!BSVDM,2,1,7,A,53mlQa800000hO;O7H0t@Tp0000000000000001608;23400000j<M`1Sl`2,0*1E\\n!BSVDM,2,2,7,A,CQSh0000000,2*13\"</td>\n</tr>\n<tr>\n<td>5</td>\n<td>0D05:05:53.382542000</td>\n<td>257761700</td>\n<td>\"ODIN\"</td>\n<td>`LG2716</td>\n<td>`Cargo</td>\n<td>`</td>\n<td>\"CH16 FOR INFO\"</td>\n<td>5</td>\n<td>2573445</td>\n<td>2025.07.06D05:05:52.000000000</td>\n<td>2025.07.06D05:05:53.382542000</td>\n<td>\"!BSVDM,2,1,1,B,53mlQa800000hO;O7H0t@Tp0000000000000001608;23400000j<M`1Sl`2,0*1B\\n!BSVDM,2,2,1,B,CQSh0000000,2*16\"</td>\n</tr>\n</tbody>\n</table>","mime":"text/html"}]}]},{"kind":2,"value":"gw(`positionHist;257761700;2025.07.06D0;2025.07.07D0)","languageId":"q","outputs":[{"items":[{"data":"<table>\n<thead>\n<tr>\n<th>Index</th>\n<th>time [timespans]</th>\n<th>mmsi [longs]</th>\n<th>lat [floats]</th>\n<th>lon [floats]</th>\n<th>heading [floats]</th>\n<th>speed [floats]</th>\n<th>status [symbols]</th>\n<th>maneuver [symbols]</th>\n<th>msgtype [longs]</th>\n<th>source [longs]</th>\n<th>sourcets [timestamps]</th>\n<th>receivets [timestamps]</th>\n<th>raw [general]</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>0D04:42:49.027576000</td>\n<td>257761700</td>\n<td>68.41611</td>\n<td>15.99228</td>\n<td>511f</td>\n<td>0f</td>\n<td>`Moored</td>\n<td>`NotAvailable</td>\n<td>3</td>\n<td>2573445</td>\n<td>2025.07.06D04:42:48.000000000</td>\n<td>2025.07.06D04:42:49.027576000</td>\n<td>\"!BSVDM,1,1,,B,33mlQa5P00Q9=?<W9NA=cwwL0DSJ,0*20\"</td>\n</tr>\n<tr>\n<td>2</td>\n<td>0D04:45:50.696047000</td>\n<td>257761700</td>\n<td>68.41612</td>\n<td>15.9923</td>\n<td>511f</td>\n<td>0f</td>\n<td>`Moored</td>\n<td>`NotAvailable</td>\n<td>3</td>\n<td>2573455</td>\n<td>2025.07.06D04:45:49.000000000</td>\n<td>2025.07.06D04:45:50.696047000</td>\n<td>\"!BSVDM,1,1,,A,33mlQa5P00Q9=?TW9NAecwwP0DNJ,0*12\"</td>\n</tr>\n<tr>\n<td>3</td>\n<td>0D04:48:47.731541000</td>\n<td>257761700</td>\n<td>68.41612</td>\n<td>15.9924</td>\n<td>511f</td>\n<td>0f</td>\n<td>`Moored</td>\n<td>`NotAvailable</td>\n<td>3</td>\n<td>2573455</td>\n<td>2025.07.06D04:48:46.000000000</td>\n<td>2025.07.06D04:48:47.731541000</td>\n<td>\"!BSVDM,1,1,,B,33mlQa5P00Q9=ARW9NAucwwJ0Dvr,0*63\"</td>\n</tr>\n<tr>\n<td>4</td>\n<td>0D04:51:48.925425000</td>\n<td>257761700</td>\n<td>68.41609</td>\n<td>15.99241</td>\n<td>511f</td>\n<td>0f</td>\n<td>`Moored</td>\n<td>`NotAvailable</td>\n<td>3</td>\n<td>2573455</td>\n<td>2025.07.06D04:51:47.000000000</td>\n<td>2025.07.06D04:51:48.925425000</td>\n<td>\"!BSVDM,1,1,,A,33mlQa5P00Q9=AhW9N>=cwwL0DgJ,0*42\"</td>\n</tr>\n<tr>\n<td>5</td>\n<td>0D04:54:50.019427000</td>\n<td>257761700</td>\n<td>68.41613</td>\n<td>15.99229</td>\n<td>511f</td>\n<td>0f</td>\n<td>`Moored</td>\n<td>`NotAvailable</td>\n<td>3</td>\n<td>2573455</td>\n<td>2025.07.06D04:54:48.000000000</td>\n<td>2025.07.06D04:54:50.019427000</td>\n<td>\"!BSVDM,1,1,,B,33mlQa5P00Q9=?PW9ND=cwwN0Dur,0*55\"</td>\n</tr>\n<tr>\n<td>6</td>\n<td>0D05:00:50.810470000</td>\n<td>257761700</td>\n<td>68.41611</td>\n<td>15.9924</td>\n<td>511f</td>\n<td>0f</td>\n<td>`Moored</td>\n<td>`NotAvailable</td>\n<td>3</td>\n<td>2573455</td>\n<td>2025.07.06D05:00:50.000000000</td>\n<td>2025.07.06D05:00:50.810470000</td>\n<td>\"!BSVDM,1,1,,B,33mlQa5P00Q9=AJW9NA=cwwP0DUr,0*0A\"</td>\n</tr>\n<tr>\n<td>7</td>\n<td>0D05:04:19.862865000</td>\n<td>257761700</td>\n<td>68.41635</td>\n<td>15.99348</td>\n<td>511f</td>\n<td>3.4</td>\n<td>`Moored</td>\n<td>`NotAvailable</td>\n<td>3</td>\n<td>2573445</td>\n<td>2025.07.06D05:04:18.000000000</td>\n<td>2025.07.06D05:04:19.862865000</td>\n<td>\"!BSVDM,1,1,,A,33mlQa5P0RQ9=UjW9NmCpgvP02wi,0*40\"</td>\n</tr>\n<tr>\n<td>8</td>\n<td>0D05:06:20.082343000</td>\n<td>257761700</td>\n<td>68.41758</td>\n<td>16.00046</td>\n<td>511f</td>\n<td>6.3</td>\n<td>`Moored</td>\n<td>`NotAvailable</td>\n<td>1</td>\n<td>2573445</td>\n<td>2025.07.06D05:06:18.000000000</td>\n<td>2025.07.06D05:06:20.082343000</td>\n<td>\"!BSVDM,1,1,,A,13mlQa5P0wQ9?`fW9Qe1C?vP04`H,0*62\"</td>\n</tr>\n</tbody>\n</table>","mime":"text/html"}]}]},{"kind":1,"value":"Not much from the looks of it.","languageId":"markdown","outputs":[]}]}